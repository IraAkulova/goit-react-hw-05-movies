{"version":3,"file":"static/js/134.ac24e1e2.chunk.js","mappings":"+MAKMA,EAAQ,4DADF,oCA0DZ,UAvDe,WACb,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAsCL,EAAAA,EAAAA,WAAS,GAA/C,eAAOM,EAAP,KAAoBC,EAApB,KACMC,EAAQJ,EAAaK,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,OAMjBC,EAAAA,EAAAA,YAAU,WACJL,GAAe,GACfM,MAAM,GAAD,OACAd,EADA,kBACkBS,EADlB,+CAGFM,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAAb,GAAK,OAAIC,EAASD,EAAMgB,QAAnB,GAClB,GAAE,CAACT,IAQF,OACE,4BACE,kBAAMU,SARS,SAACC,GACpBA,EAAEC,iBACFb,GAAe,EAEhB,EAIK,WACE,kBACEc,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,SAAUC,KA3BE,SAACP,GACrBd,EAAgB,CAAEG,MAAOW,EAAEQ,OAAOC,OACnC,GAyB4C,QAErC,mBAAQP,KAAK,SAAb,wBAGF,wBACGf,GACCL,EAAM4B,KAAI,SAAAC,GACR,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAKE,IAAMC,MAAO,CAAEC,KAAMxB,GAAvC,SACGoB,EAAKK,OAASL,EAAKM,QAFfN,EAAKE,GAMjB,QAIZ,C,kBC9CD,SAASK,EAASC,EAAMC,EAAMC,GAC5B,IAAIC,EAASC,EAAMC,EAASC,EAAWC,EAGvC,SAASC,IACP,IAAIC,EAAOC,KAAKC,MAAQL,EAEpBG,EAAOR,GAAQQ,GAAQ,EACzBN,EAAUS,WAAWJ,EAAOP,EAAOQ,IAEnCN,EAAU,KACLD,IACHK,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,MAGtB,CAdG,MAAQH,IAAMA,EAAO,KAgBzB,IAAIa,EAAY,WACdT,EAAUU,KACVX,EAAOY,UACPV,EAAYI,KAAKC,MACjB,IAAIM,EAAUf,IAAcC,EAO5B,OANKA,IAASA,EAAUS,WAAWJ,EAAOP,IACtCgB,IACFV,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,MAGZG,CACR,EAmBD,OAjBAO,EAAUI,MAAQ,WACZf,IACFgB,aAAahB,GACbA,EAAU,KAEb,EAEDW,EAAUM,MAAQ,WACZjB,IACFI,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,KAEjBe,aAAahB,GACbA,EAAU,KAEb,EAEMW,CACR,CAGDf,EAASA,SAAWA,EAEpBsB,EAAOC,QAAUvB,C","sources":["pages/Movies.jsx","../node_modules/debounce/index.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport _debounce from 'debounce';\n\nconst KEY = '136e9303af57d83b29ddf02ef48e9efe';\nconst BASE_URL = `https://api.themoviedb.org/3/search/movie?api_key=${KEY}`;\n\nconst Movies = () => {\n  const [films, setFilms] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [visibleList, setVisibleList] = useState(false);\n  const query = searchParams.get('query');\n  const location = useLocation();\n\n  const onInputChange = (e) => {\n    setSearchParams({ query: e.target.value });\n  };\n\n  useEffect(() => {\n        setVisibleList(false);\n        fetch(\n          `${BASE_URL}&query=${query}&language=en-US&page=1&include_adult=false`\n        )\n          .then(response => response.json())\n          .then(films => setFilms(films.results));\n  }, [query]);\n\n  const onFormSubmit = (e) => {\n    e.preventDefault();\n    setVisibleList(true);\n\n  };\n  \n    return (\n      <div>\n        <form onSubmit={onFormSubmit}>\n          <input\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n            onChange={_debounce(onInputChange, 300)}\n          ></input>\n          <button type=\"submit\">Search</button>\n        </form>\n\n        <ul>\n          {visibleList &&\n            films.map(film => {\n              return (\n                <li key={film.id}>\n                  <Link to={`${film.id}`} state={{ from: location }}>\n                    {film.title || film.name}\n                  </Link>\n                </li>\n              );\n            })}\n        </ul>\n      </div>\n    );\n};\n\nexport default Movies;\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n"],"names":["BASE_URL","useState","films","setFilms","useSearchParams","searchParams","setSearchParams","visibleList","setVisibleList","query","get","location","useLocation","useEffect","fetch","then","response","json","results","onSubmit","e","preventDefault","type","autoComplete","autoFocus","placeholder","onChange","_debounce","target","value","map","film","to","id","state","from","title","name","debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","this","arguments","callNow","clear","clearTimeout","flush","module","exports"],"sourceRoot":""}