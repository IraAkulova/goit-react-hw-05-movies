"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[134],{134:function(e,t,n){n.r(t);var c=n(439),u=n(791),o=n(87),r=n(689),i=n(184),s="https://api.themoviedb.org/3/search/movie?api_key=".concat("136e9303af57d83b29ddf02ef48e9efe");t.default=function(){var e=(0,u.useState)([]),t=(0,c.Z)(e,2),n=t[0],a=t[1],l=(0,o.lr)(),f=(0,c.Z)(l,2),h=f[0],d=f[1],m=(0,u.useState)(!1),p=(0,c.Z)(m,2),g=p[0],v=p[1],j=(0,u.useState)(""),_=(0,c.Z)(j,2),x=_[0],S=_[1],b=(0,u.useState)(null),w=(0,c.Z)(b,2),y=w[0],k=w[1],Z=h.get("query"),C=(0,r.TH)();return(0,u.useEffect)((function(){Z&&fetch("".concat(s,"&query=").concat(Z,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){if(a(e.results),0===e.results.length)return Promise.reject(new Error("Oops, there is no movie with title ".concat(Z)))})).catch((function(e){k(e),console.log(e)}))}),[Z]),(0,u.useEffect)((function(){v(!0)}),[]),(0,i.jsxs)("div",{children:[(0,i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d({query:x}),v(!0)},children:[(0,i.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){S(e.target.value)},value:x}),(0,i.jsx)("button",{type:"submit",children:"Search"})]}),y&&0===n.length&&(0,i.jsx)("h2",{children:y.message}),n.length>0&&(0,i.jsx)("ul",{children:g&&Z&&n.map((function(e){return(0,i.jsx)("li",{children:(0,i.jsx)(o.rU,{to:"".concat(e.id),state:{from:C},children:e.title||e.name})},e.id)}))})]})}}}]);
//# sourceMappingURL=134.1af2f71c.chunk.js.map